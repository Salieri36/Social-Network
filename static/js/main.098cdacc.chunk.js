(this["webpackJsonpmy-app2"]=this["webpackJsonpmy-app2"]||[]).push([[0],{11:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(60),r=a.create({withCredentials:!0,headers:{"API-KEY":"3f3df44b-12e8-476c-b3e6-089c3a820b9a"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),o={getUsers:function(e){return r.get("users?page=".concat(e)).then((function(e){return e.data}))},getUserProfile:function(e){return r.get("profile/".concat(e)).then((function(e){return e.data}))},auth:function(){return r.get("auth/me").then((function(e){return e.data}))},following:function(e){return r.post("follow/".concat(e)).then((function(e){return e.data}))},unfollowing:function(e){return r.delete("follow/".concat(e)).then((function(e){return e.data}))},getUserStatus:function(e){return r.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return r.put("profile/status",{status:e}).then((function(e){return e.data}))},login:function(e,t,n){return r.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return console.log(e.data),e.data}))},logout:function(){return r.delete("auth/login").then((function(e){return e.data}))},putPhoto:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return r.put("profile",e).then((function(e){return e.data}))}}},124:function(e,t,n){e.exports={profile:"ProfilePage_profile__2I8cC"}},126:function(e,t,n){e.exports={main:"ProfilePosts_main__2jUhS"}},127:function(e,t,n){e.exports={main:"ProfileNewPost_main__1dT10",btn:"ProfileNewPost_btn__34MKG"}},129:function(e,t,n){e.exports={inputBlock:"ProfileStatus_inputBlock__1m5ah"}},130:function(e,t,n){e.exports={main:"DialogsList_main__3dCEi"}},131:function(e,t,n){e.exports={main:"DialogsMessages_main__QFlUj",messageBlock:"DialogsMessages_messageBlock__HwpHx"}},132:function(e,t,n){e.exports={main:"DialogsNewMessage_main__acKTR",btn:"DialogsNewMessage_btn__mxOnM"}},133:function(e,t,n){e.exports={header:"Login_header__2psyF",logo:"Login_logo__2y22X",loginBlock:"Login_loginBlock__2KS7C"}},134:function(e,t,n){e.exports={main:"LoginForm_main__1SGYM"}},137:function(e,t,n){e.exports=n(262)},142:function(e,t,n){},143:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t),n.d(t,"updateMessage",(function(){return l})),n.d(t,"addPost",(function(){return i})),n.d(t,"setUserProfile",(function(){return c})),n.d(t,"setUserId",(function(){return m})),n.d(t,"setNewPost",(function(){return f})),n.d(t,"savePhotoAC",(function(){return p})),n.d(t,"getAllUsersInfo",(function(){return d})),n.d(t,"getUserProfileThunkCreator",(function(){return g})),n.d(t,"saveProfileTC",(function(){return h})),n.d(t,"getAllUsersInfoTK",(function(){return E})),n.d(t,"savePhotoThunkCreator",(function(){return b}));var a=n(38),r=n(3),o=n(11),s={posts:[{id:1,name:"Roman B.",postsText:"text<br></br>text<br></br>text<br></br>text<br></br>text<br></br>",likesCount:9},{id:2,name:"Roman B.",postsText:"test test",likesCount:2},{id:3,name:"Roman B.",postsText:"new message!!!!",likesCount:15}],usersInfoFull:{},userInfo:{userAvatar:null,userStatus:null,userId:null,userName:null},changedUser:null,photos:null},u=4,l=function(e){return{type:"UPDATE_MESSAGE",newText:e}},i=function(){return{type:"ADD_POST"}},c=function(e,t,n,a){return{type:"SET_USER_PROFILE",photo:e,info:t,id:n,name:a}},m=function(e){return{type:"SET_USER_ID",userId:e}},f=function(e){return{type:"SET_NEW_POST",newPostText:e}},p=function(e){return{type:"SAVE_PHOTO",photos:e}},d=function(e){return{type:"GET_ALL_USER_INFO",info:e}},g=function(e){return function(t){o.a.getUserProfile(e).then((function(e){t(c(e.photos.large,e.aboutMe,e.userId,e.fullName))}))}},h=function(e){return function(t,n){var a=n().auth.userData.id;o.a.saveProfile(e).then((function(e){0===e.resultCode&&t(E(a))}))}},E=function(e){return function(t){o.a.getUserProfile(e).then((function(e){t(d(e))}))}},b=function(e){return function(t){o.a.putPhoto(e).then((function(e){t(p(e.data.photos))}))}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_MESSAGE":return Object(r.a)(Object(r.a)({},e),{},{newPostsText:t.newText});case"SET_USER_PROFILE":var n={userAvatar:t.photo,userStatus:t.info,userId:t.id,userName:t.name};return Object(r.a)(Object(r.a)({},e),{},{userInfo:n});case"SET_USER_ID":return Object(r.a)(Object(r.a)({},e),{},{changedUser:t.userId});case"SAVE_PHOTO":return Object(r.a)(Object(r.a)({},e),{},{photos:t.photos});case"GET_ALL_USER_INFO":return Object(r.a)(Object(r.a)({},e),{},{usersInfoFull:t.info});case"SET_NEW_POST":var o={id:u,name:"Roman B.",postsText:t.newPostText,likesCount:0};return u++,Object(r.a)(Object(r.a)({},e),{},{posts:[].concat(Object(a.a)(e.posts),[o])});default:return e}}},24:function(e,t,n){"use strict";n.r(t),n.d(t,"follow",(function(){return u})),n.d(t,"unfollow",(function(){return l})),n.d(t,"setUsers",(function(){return i})),n.d(t,"setTotalCount",(function(){return c})),n.d(t,"setCurrentPage",(function(){return m})),n.d(t,"toggleFollowingProgres",(function(){return f})),n.d(t,"setUsersStatus",(function(){return p})),n.d(t,"updateProfileStatus",(function(){return d})),n.d(t,"updateStatusThankCreator",(function(){return g})),n.d(t,"setUserStatusThunkCreator",(function(){return h})),n.d(t,"getUserThunkCreator",(function(){return E})),n.d(t,"updateUserThunkCreator",(function(){return b})),n.d(t,"followingThunkCreator",(function(){return _})),n.d(t,"unfollowingThunkCreator",(function(){return T}));var a=n(38),r=n(3),o=n(11),s={users:[],totalCount:0,usersOnPage:10,currentPage:1,totalPagesCount:1,followInProgres:!1,usersStatus:"my status"},u=function(e){return{type:"FOLLOW",userId:e}},l=function(e){return{type:"UNFOLLOW",userId:e}},i=function(e){return{type:"SET_USERS",users:e}},c=function(e){return{type:"SET_TOTAL_COUNT",totalCount:e}},m=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},f=function(e){return{type:"TOGGLE_FOLLOW_IN_PROGRES",progres:e}},p=function(e){return{type:"SET_USERS_STATUS",status:e}},d=function(e){return{type:"UPDATE_STATUS",statusText:e}},g=function(e){return function(t){o.a.updateStatus(e).then((function(n){t(d(e))}))}},h=function(e){return function(t){o.a.getUserStatus(e).then((function(e){t(p(e))}))}},E=function(e){return function(t){o.a.getUsers(e).then((function(e){t(i(e.items)),t(c(e.totalCount))}))}},b=function(e){return function(t){o.a.getUsers(e).then((function(n){t(i(n.items)),t(m(e))}))}},_=function(e){return function(t){t(f(!0)),o.a.following(e).then((function(n){0===n.resultCode&&t(u(e))})),t(f(!1))}},T=function(e){return function(t){t(f(!0)),o.a.unfollowing(e).then((function(n){0===n.resultCode&&t(l(e))})),t(f(!1))}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(r.a)(Object(r.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(r.a)(Object(r.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(r.a)(Object(r.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(r.a)(Object(r.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(r.a)(Object(r.a)({},e),{},{users:Object(a.a)(t.users)});case"SET_TOTAL_COUNT":return Object(r.a)(Object(r.a)({},e),{},{totalCount:t.totalCount});case"SET_CURRENT_PAGE":return Object(r.a)(Object(r.a)({},e),{},{currentPage:t.currentPage});case"TOGGLE_FOLLOW_IN_PROGRES":return Object(r.a)(Object(r.a)({},e),{},{followInProgres:t.progres});case"SET_USERS_STATUS":return Object(r.a)(Object(r.a)({},e),{},{usersStatus:t.status});case"UPDATE_STATUS":return Object(r.a)(Object(r.a)({},e),{},{usersStatus:t.statusText});default:return e}}},262:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(59),s=n.n(o),u=(n(142),n(17)),l=n(18),i=n(20),c=n(19),m=(n(143),n(84)),f=n.n(m),p=n(10),d=function(){return r.a.createElement("div",{className:f.a.sidebar},r.a.createElement("ul",null,r.a.createElement("li",{className:f.a.active},r.a.createElement(p.b,{to:"/profile"},"Profile")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/dialogs"},"Dialogs")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/users"},"Users")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/music"},"Music")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/setting"},"Setting"))))},g=n(124),h=n.n(g),E=n(7),b=n(126),_=n.n(b),T=n(39),v=n.n(T),O=n(35),P=n.n(O),k=function(e){return r.a.createElement("div",{className:v.a.postBlock},r.a.createElement("div",{className:v.a.post},r.a.createElement("div",{className:v.a.author},r.a.createElement("img",{src:P.a,alt:"avatar"}),r.a.createElement("p",null,"Roman B.")),r.a.createElement("div",{className:v.a.postsText}," ",e.postsText," ")),r.a.createElement("div",{className:v.a.likes},"likes: ",r.a.createElement("span",null,e.likesCount)))},S=function(e){var t=e.posts.map((function(e){return r.a.createElement(k,{postsText:e.postsText,likesCount:e.likesCount,key:e.id})}));return r.a.createElement("div",{className:_.a.main},t)},w=function(e){return e.profilePage.posts},C=Object(E.b)((function(e){return{posts:w(e)}}))(S),j=n(127),U=n.n(j),N=n(88),I=n.n(N),x=n(264),M=n(263),y=function(e){if(!e)return"Field is require"},A=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},D=n(66),F=n(32),L=n.n(F),B=function(e){var t=e.input,n=e.meta,a=Object(D.a)(e,["input","meta"]),o=n.error,s=n.touched&&n.error;return r.a.createElement("div",{className:L.a.main},r.a.createElement("div",null,r.a.createElement("input",Object.assign({},t,a,{className:s&&L.a.error}))),s&&r.a.createElement("span",null,o))},R=function(e){var t=e.input,n=e.meta,a=Object(D.a)(e,["input","meta"]),o=n.error,s=n.touched&&n.error;return r.a.createElement("div",{className:L.a.main},r.a.createElement("div",null,r.a.createElement("input",Object.assign({},t,a,{className:s&&L.a.error}))),s&&r.a.createElement("span",null,o))},G=function(e){var t=e.input,n=e.meta,a=Object(D.a)(e,["input","meta"]),o=n.error,s=n.touched&&n.error;return r.a.createElement("div",{className:L.a.main},r.a.createElement("div",null,r.a.createElement("textarea",Object.assign({},t,a,{className:s&&L.a.error}))),s&&r.a.createElement("span",null,o))},K=A(20),W=Object(M.a)({form:"newPost"})((function(e){return r.a.createElement("form",{className:I.a.main,onSubmit:e.handleSubmit},r.a.createElement(x.a,{component:G,name:"newPostText",placeholder:"Write your posts text",validate:[y,K]}),r.a.createElement("div",{className:I.a.btn},r.a.createElement("button",null,"Send")))})),H=function(e){return r.a.createElement("div",{className:U.a.main},r.a.createElement("h2",null,"My Posts"),r.a.createElement(W,{onSubmit:function(t){e.setNewPost(t.newPostText)},setNewPost:e.setNewPost}))},J=n(21),Y=Object(E.b)((function(e){return{newPostsText:e.profilePage.newPostsText}}),{updateMessage:J.updateMessage,addPost:J.addPost,setNewPost:J.setNewPost})(H),V=n(136),X=n(48),q=n.n(X),Q=n(129),z=n.n(Q),Z=n(24),$=n(8),ee=n(9),te=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={editMode:!1,text:""},e.activeEditMode=function(){7926===e.props.userId&&e.setState({editMode:!0})},e.deactiveEditMode=function(){var t=ne.current.value;e.props.updateStatusThankCreator(t),e.setState({editMode:!1,text:e.props.status})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userData.id),this.props.setUserStatusThunkCreator(e)}},{key:"componentDidUpdate",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userData.id),this.props.setUserStatusThunkCreator(e)}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.editMode?r.a.createElement("div",{className:z.a.inputBlock},r.a.createElement("input",{ref:ne,autoFocus:!0,onBlur:this.deactiveEditMode})):r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:this.activeEditMode},this.props.status||"status")))}}]),n}(r.a.Component),ne=r.a.createRef(),ae=Object($.compose)(Object(E.b)((function(e){return{status:e.usersPage.usersStatus,userData:e.auth.userData,userId:e.profilePage.userInfo.userId}}),{setUserStatusThunkCreator:Z.setUserStatusThunkCreator,updateStatusThankCreator:Z.updateStatusThankCreator}),ee.f)(te),re=Object(M.a)({form:"infoForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement("button",null,"Save")),r.a.createElement("p",null,r.a.createElement("span",null,"Full Name: ")),r.a.createElement(x.a,{placeholder:"Name",name:"fullName",component:"input"}),r.a.createElement("p",null,r.a.createElement("span",null,"About Me: ")),r.a.createElement(x.a,{placeholder:"About Me",name:"aboutMe",component:"input"}),r.a.createElement("p",null,r.a.createElement("span",null,"Looking for a job: ")),r.a.createElement(x.a,{name:"lookingForAJob",component:"input",type:"checkbox"}),r.a.createElement("p",null,r.a.createElement("span",null,"My professional skills: ")),r.a.createElement(x.a,{placeholder:"My scills",name:"lookingForAJobDescription",component:"textarea"}))})),oe=function(e){return r.a.createElement("div",null,7926===e.userInfo.userId&&r.a.createElement("div",null,r.a.createElement("button",{onClick:e.goToEditMode},"Edit")),r.a.createElement("p",null,r.a.createElement("span",null,"About Me: "),e.usersInfoFull.aboutMe),r.a.createElement("p",null,r.a.createElement("span",null,"User ID: "),e.userInfo.userId),r.a.createElement("p",null,r.a.createElement("span",null,"Looking for a job: "),e.usersInfoFull.lookingForAJob?"Yes":"No"),e.usersInfoFull.lookingForAJob?r.a.createElement("p",null,r.a.createElement("span",null,"My professional skills: "),e.usersInfoFull.lookingForAJobDescription):null)},se=function(e){var t=Object(a.useState)(!1),n=Object(V.a)(t,2),o=n[0],s=n[1];return r.a.createElement("div",{className:q.a.main},r.a.createElement("div",{className:q.a.avatar},e.userInfo.userAvatar?r.a.createElement("img",{src:e.userInfo.userAvatar,alt:"avatar"}):r.a.createElement("img",{src:P.a,alt:"avatar"}),e.match.params.userId?null:r.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}})),r.a.createElement("div",{className:q.a.infoBlock},r.a.createElement("h2",null,e.usersInfoFull.fullName),o?r.a.createElement(re,{initialValues:e.usersInfoFull,onSubmit:function(t){e.saveProfile(t),s(!1)},usersInfoFull:e.usersInfoFull,userInfo:e.userInfo}):r.a.createElement(oe,{goToEditMode:function(){s(!0)},userData:e.userData,usersInfoFull:e.usersInfoFull,userInfo:e.userInfo})),r.a.createElement("div",{className:q.a.statusBlock},r.a.createElement("h2",null,"Users ststus"),r.a.createElement(ae,null)))},ue=n(3),le=n(11),ie={userData:{id:null,login:null,email:null},isAuth:!1,init:!1},ce=function(e){return{type:"SET_USER_DATA",userData:e}},me=function(){return function(e){le.a.logout().then((function(t){e({type:"LOGOUT"})}))}},fe=function(){return function(e){return le.a.auth().then((function(t){0===t.resultCode&&e(ce(t.data))}))}},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(ue.a)(Object(ue.a)({},e),{},{userData:t.userData,isAuth:!0});case"LOGOUT":return Object(ue.a)(Object(ue.a)({},e),{},{userData:Object(ue.a)(Object(ue.a)({},e.userData),{},{id:null,login:null,email:null}),isAuth:!1});case"INIT":return Object(ue.a)(Object(ue.a)({},e),{},{init:!0});default:return e}},de=function(e){return function(t){Object(i.a)(a,t);var n=Object(c.a)(a);function a(){return Object(u.a)(this,a),n.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(ee.a,{to:"/login"})}}]),a}(r.a.Component)},ge=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userData.id),this.props.getUserProfileThunkCreator(e),this.props.getAllUsersInfoTK(e)}},{key:"componentDidUpdate",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userData.id),this.props.getUserProfileThunkCreator(e)}},{key:"render",value:function(){return r.a.createElement(se,Object.assign({},this.props,{getAllUsersInfo:this.props.getAllUsersInfoTK,saveProfile:this.props.saveProfileTC,userData:this.props.userData,userInfo:this.props.userInfo,savePhoto:this.props.savePhotoThunkCreator,usersInfoFull:this.props.usersInfoFull}))}}]),n}(r.a.Component),he=Object($.compose)(Object(E.b)((function(e){return{userInfo:e.profilePage.userInfo,isAuth:e.auth.isAuth,userData:e.auth.userData,usersInfoFull:e.profilePage.usersInfoFull}}),{getUserProfileThunkCreator:J.getUserProfileThunkCreator,authThunkCreator:fe,savePhotoThunkCreator:J.savePhotoThunkCreator,getAllUsersInfoTK:J.getAllUsersInfoTK,saveProfileTC:J.saveProfileTC}),ee.f,de)(ge),Ee=function(e){return r.a.createElement("div",{className:h.a.profile},r.a.createElement(he,null),r.a.createElement(Y,null),r.a.createElement(C,null))},be=n(64),_e=n.n(be),Te=n(130),ve=n.n(Te),Oe=function(){return r.a.createElement("div",{className:ve.a.main},r.a.createElement("ul",null,r.a.createElement("li",null,"Ivan"),r.a.createElement("li",null,"Sergey"),r.a.createElement("li",null,"Anna"),r.a.createElement("li",null,"Sasha"),r.a.createElement("li",null,"Alex")))},Pe=n(131),ke=n.n(Pe),Se=n(91),we=n.n(Se),Ce=function(e){return r.a.createElement("div",{className:we.a.messageBlock},r.a.createElement("div",{className:we.a.messageText},e.message))},je=function(e){var t=e.messages.map((function(e){return r.a.createElement(Ce,{message:e.messagesText})}));return r.a.createElement("div",{className:ke.a.main},t)},Ue=Object(E.b)((function(e){return{messages:e.dialogsPage.messages}}))(je),Ne=n(132),Ie=n.n(Ne),xe=n(92),Me=n.n(xe),ye=A(10),Ae=Object(M.a)({form:"newMessage"})((function(e){return r.a.createElement("form",{className:Me.a.main,onSubmit:e.handleSubmit},r.a.createElement(x.a,{component:G,name:"newMessageText",placeholder:"Write yor message...",validate:[y,ye]}),r.a.createElement("div",{className:Me.a.btn},r.a.createElement("button",null,"Send")))})),De=function(e){return r.a.createElement("div",{className:Ie.a.main},r.a.createElement(Ae,{onSubmit:function(t){e.sendNewMessage(t.newMessageText)}}))},Fe=n(47),Le=Object(E.b)((function(e){return{newMessagesText:e.dialogsPage.newMessagesText}}),{updateMessage:Fe.updateMessage,addMessage:Fe.addMessage,sendNewMessage:Fe.sendNewMessage})(De),Be=function(){return r.a.createElement("div",{className:_e.a.dialog},r.a.createElement("div",{className:_e.a.list},r.a.createElement(Oe,null)),r.a.createElement("div",{className:_e.a.messages},r.a.createElement(Ue,null),r.a.createElement(Le,null)))},Re=n(93),Ge=n.n(Re),Ke=n(49),We=n.n(Ke),He=function(e){var t="/profile/"+e.userId;return r.a.createElement("div",{className:We.a.users},r.a.createElement("div",{className:We.a.usersBlock},r.a.createElement("div",{className:We.a.avatar},r.a.createElement(p.b,{to:t},r.a.createElement("img",{src:null!=e.photos.small?e.photos.small:P.a,alt:"avatar"}),r.a.createElement("br",null)),e.followed?r.a.createElement("button",{onClick:function(){var t=e.userId;e.unfollowingThunkCreator(t)}},"Unfollow"):r.a.createElement("button",{onClick:function(){var t=e.userId;e.followingThunkCreator(t)}},"Follow")),r.a.createElement("div",{className:We.a.infoBlock},r.a.createElement("p",null,r.a.createElement("span",null,"Name: "),e.name),null!=e.status?r.a.createElement("p",null,r.a.createElement("span",null,"Status: "),e.status):null)))},Je=(n(60),function(e){for(var t=e.usersPage.users.map((function(t){return r.a.createElement(He,{unfollowingThunkCreator:e.unfollowingThunkCreator,followingThunkCreator:e.followingThunkCreator,followed:t.followed,name:t.name,photos:t.photos,status:t.status,userId:t.id,usersPage:e.usersPage,unfollow:e.unfollow,follow:e.followingThunkCreator,key:t.id})})),n=(Math.ceil(e.usersPage.totalCount/e.usersPage.usersOnPage),[]),a=1;a<=23;a++)n.push(a);var o=n.map((function(t){return r.a.createElement("span",{className:e.usersPage.currentPage===t&&Ge.a.selectedPage,onClick:function(){!function(t){e.updateUserThunkCreator(t)}(t)}},t)}));return r.a.createElement("div",{className:Ge.a.users},t,o)}),Ye=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getUserThunkCreator(this.props.usersPage.currentPage)}},{key:"render",value:function(){return r.a.createElement(Je,{usersPage:this.props.usersPage,unfollowingThunkCreator:this.props.unfollowingThunkCreator,followingThunkCreator:this.props.followingThunkCreator,updateUserThunkCreator:this.props.updateUserThunkCreator,follow:this.props.follow,unfollow:this.props.unfollow,setCurrentPage:this.props.setCurrentPage,setUsers:this.props.setUsers})}}]),n}(r.a.Component),Ve=Object($.compose)(Object(E.b)((function(e){return{usersPage:e.usersPage,isAuth:e.auth.isAuth}}),{follow:Z.follow,unfollow:Z.unfollow,getUserThunkCreator:Z.getUserThunkCreator,updateUserThunkCreator:Z.updateUserThunkCreator,followingThunkCreator:Z.followingThunkCreator,unfollowingThunkCreator:Z.unfollowingThunkCreator}),de)(Ye),Xe=n(65),qe=n.n(Xe),Qe=n(83),ze=n.n(Qe),Ze=function(e){return r.a.createElement("div",{className:qe.a.header},r.a.createElement("div",{className:qe.a.logo},r.a.createElement("img",{src:ze.a,alt:"logo"})),r.a.createElement("div",{className:qe.a.loginBlock},e.auth.isAuth?e.auth.userData.login:r.a.createElement("button",null,r.a.createElement(p.b,{to:"/login"},"Login")),e.auth.isAuth&&r.a.createElement("button",{onClick:function(){e.logoutThunkCreator()}},"Logout")))},$e=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(Ze,this.props)}}]),n}(r.a.Component),et=Object(E.b)((function(e){return{auth:e.auth}}),{authThunkCreator:fe,logoutThunkCreator:me})($e),tt=n(133),nt=n.n(tt),at=n(134),rt=n.n(at),ot=Object(M.a)({form:"login"})((function(e){return r.a.createElement("form",{className:rt.a.main,onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(x.a,{component:B,type:"text",name:"login",placeholder:"Your login",validate:y})),r.a.createElement("div",null,r.a.createElement(x.a,{component:R,type:"password",name:"password",placeholder:"Your password",validate:y})),r.a.createElement("div",null,r.a.createElement(x.a,{component:"input",type:"checkbox",name:"rememberMe"})),r.a.createElement("div",null,r.a.createElement("button",null,"Login")))})),st=Object(E.b)((function(e){return{isAuth:e.auth.isAuth}}),{loginThunkCreator:function(e,t,n){return function(a){le.a.login(e,t,n).then((function(e){a(ce(e.data))})),setTimeout((function(){le.a.auth().then((function(e){a(ce(e.data))}))}),1e3)}},logoutThunkCreator:me})((function(e){return setTimeout((function(){}),1e3),e.isAuth?r.a.createElement(ee.a,{to:"/profile"}):r.a.createElement("div",{className:nt.a.main},r.a.createElement("h1",null,"LOGIN"),r.a.createElement(ot,{onSubmit:function(t){e.loginThunkCreator(t.login,t.password,t.rememberMe)}}))})),ut=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.initTK();var e=this.props.match.params.userId;e||(e=this.props.userData.id),this.props.getAllUsersInfoTK(e)}},{key:"render",value:function(){return this.props.auth.init?r.a.createElement("div",{className:"app"},r.a.createElement(et,null),r.a.createElement(d,null),r.a.createElement(ee.b,{path:"/dialogs",component:Be}),r.a.createElement(ee.b,{path:"/profile/:userId?",component:Ee}),r.a.createElement(ee.b,{path:"/users",component:Ve}),r.a.createElement(ee.b,{path:"/login",component:st})):"loading"}}]),n}(r.a.Component),lt=Object($.compose)(Object(E.b)((function(e){return{auth:e.auth,userData:e.auth.userData}}),{authThunkCreator:fe,initTK:function(){return function(e){e(fe()).then((function(){e({type:"INIT"})}))}},getAllUsersInfoTK:J.getAllUsersInfoTK}),ee.f)(ut);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var it=n(135),ct=n(265),mt=n(8),ft=mt.combineReducers,pt=mt.createStore,dt=mt.applyMiddleware,gt=pt(ft({profilePage:n(21).default,dialogsPage:n(47).default,usersPage:n(24).default,auth:pe,form:ct.a}),dt(it.a));window.store=gt;var ht=gt;s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p.a,null,r.a.createElement(E.a,{store:ht},r.a.createElement(lt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},32:function(e,t,n){e.exports={error:"FormControl_error__2dt4W",main:"FormControl_main__3tHQL"}},35:function(e,t,n){e.exports=n.p+"static/media/my-avatar.ce8e7ab8.png"},39:function(e,t,n){e.exports={post:"ProfilePost_post__3CxoS",postsText:"ProfilePost_postsText__2cw-X",likes:"ProfilePost_likes__2NEbq",postBlock:"ProfilePost_postBlock__E5e6v",author:"ProfilePost_author__2AegU"}},47:function(e,t,n){"use strict";n.r(t),n.d(t,"updateMessage",(function(){return u})),n.d(t,"addMessage",(function(){return l})),n.d(t,"sendNewMessage",(function(){return i}));var a=n(38),r=n(3),o={messages:[{id:1,messagesText:"NEW message text!@"},{id:2,messagesText:"NO new message text!"},{id:3,messagesText:"old message text///"},{id:4,messagesText:"Many many many many text!@"}],newMessagesText:""},s=5,u=function(e){return{type:"UPDATE_MESSAGE",newMessagesText:e}},l=function(){return{type:"ADD_MESSAGE"}},i=function(e){return{type:"SEND_NEW_MESSAGE",newMessagesText:e}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_MESSAGE":return Object(r.a)(Object(r.a)({},e),{},{newMessagesText:t.newMessagesText});case"SEND_NEW_MESSAGE":var n={id:s,messagesText:t.newMessagesText};return s++,Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(a.a)(e.messages),[n])});default:return e}}},48:function(e,t,n){e.exports={main:"ProfileMain_main__2Y5Pd",avatar:"ProfileMain_avatar__pkfTI",statusBlock:"ProfileMain_statusBlock__2E377"}},49:function(e,t,n){e.exports={users:"UsersUser_users__V8m3V",usersBlock:"UsersUser_usersBlock__1GY1i",avatar:"UsersUser_avatar__Fzvc8",infoBlock:"UsersUser_infoBlock__3DHxP"}},64:function(e,t,n){e.exports={dialog:"DialogsPage_dialog__2kKpP"}},65:function(e,t,n){e.exports={header:"Header_header__29XLt",logo:"Header_logo__22rzP",loginBlock:"Header_loginBlock__2y2V8"}},83:function(e,t,n){e.exports=n.p+"static/media/Lineage_OS_Logo.8be16200.png"},84:function(e,t,n){e.exports={sidebar:"Sidebar_sidebar__B1RT-",active:"Sidebar_active__2y87h"}},88:function(e,t,n){e.exports={main:"ProfileNewPostForm_main__3JN3c",btn:"ProfileNewPostForm_btn__1jAM1"}},91:function(e,t,n){e.exports={main:"DialogsMessage_main__1qPeE",messageBlock:"DialogsMessage_messageBlock__2Im_d"}},92:function(e,t,n){e.exports={main:"DialogsNewMessageForm_main__2lYD_",btn:"DialogsNewMessageForm_btn__3ul8O"}},93:function(e,t,n){e.exports={users:"UsersPage_users___G6Xy",usersBlock:"UsersPage_usersBlock__3al2F",avatar:"UsersPage_avatar__2iwZL",selectedPage:"UsersPage_selectedPage__2KQwf"}}},[[137,1,2]]]);
//# sourceMappingURL=main.098cdacc.chunk.js.map